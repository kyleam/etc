## source all zsh files one directory down in $ETC and $PETC
## this file does not have zsh ending to avoid infinite loop

function source_config_files(){
    for config_file in "$@"; do
        source $config_file
    done
}

source_config_files $ETC/*/*.zsh
source_config_files $ETC/*/*.zsh-$(hostname) 2> /dev/null

if [[ -d "$PETC" ]]; then
    source_config_files $PETC/*/*.zsh
    source_config_files $PETC/*/*.zsh-$(hostname) 2> /dev/null
fi
